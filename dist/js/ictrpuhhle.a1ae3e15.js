import{d as s,o as a,c as e,a as o}from"./@vue.25a72e45.js";const t={class:"markdown-body"},c=o(`<h2>\u6548\u679C</h2><p>\u{1F449}<a href="/resources/Canvas_Snake/index.html">\u70B9\u51FB\u9884\u89C8</a></p><h2>\u5B9E\u73B0</h2><p>html \u4E2D\uFF1A</p><div class="code-wrapper"><div class="heading-row no-heading show-lang"><span class="lang-display">html</span></div><div class="code-block language-handlebars no-line-numbers" data-lang="html" data-modifiers=""><pre class="language-handlebars" data-lang="html"><code class="code-line odd first-row line-1"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-2"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-3"></code>
<code class="code-line even line-4"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-5">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-6">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-7">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-8">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-9">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./index.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-10">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-11">    body {</code>
<code class="code-line even line-12">      margin: 0;</code>
<code class="code-line odd line-13">      width: 100vw;</code>
<code class="code-line even line-14">      height: 100vh;</code>
<code class="code-line odd line-15">      overflow: hidden;</code>
<code class="code-line even line-16">      display: flex;</code>
<code class="code-line odd line-17">      flex-direction: column;</code>
<code class="code-line even line-18">      justify-content: center;</code>
<code class="code-line odd line-19">      align-items: center;</code>
<code class="code-line even line-20">      background-color: antiquewhite;</code>
<code class="code-line odd line-21">    }</code>
<code class="code-line even line-22"></code>
<code class="code-line odd line-23">    .control {</code>
<code class="code-line even line-24">      margin-top: 50px;</code>
<code class="code-line odd line-25">    }</code>
<code class="code-line even line-26"></code>
<code class="code-line odd line-27">    .control span {</code>
<code class="code-line even line-28">      padding: 10px 20px 10px 20px;</code>
<code class="code-line odd line-29">      background-color: rgb(99, 168, 214);</code>
<code class="code-line even line-30">      color: #fff;</code>
<code class="code-line odd line-31">      margin: 0 20px 0 20px;</code>
<code class="code-line even line-32">      border-radius: 10px;</code>
<code class="code-line odd line-33">      cursor: pointer;</code>
<code class="code-line even line-34">    }</code>
<code class="code-line odd line-35">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-36"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-37"></code>
<code class="code-line even line-38"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-39">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-40">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-41">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5F00\u59CB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-42">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6682\u505C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-43">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u91CD\u7F6E<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-44">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line odd line-45"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code>
<code class="code-line even line-46"></code>
<code class="code-line odd last-row line-47"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre></div></div><p>index.js \u4E2D\uFF1A</p><div class="code-wrapper"><div class="heading-row no-heading show-lang"><span class="lang-display">js</span></div><div class="code-block language-javascript no-line-numbers" data-lang="js" data-modifiers=""><pre class="language-javascript" data-lang="js"><code class="code-line odd first-row line-1"><span class="token comment">/**</span></code>
<code class="code-line even line-2"> <span class="token operator">*</span> @type <span class="token punctuation">{</span>HTMLCanvasElement<span class="token punctuation">}</span></code>
<code class="code-line odd line-3"> <span class="token operator">*</span><span class="token operator">/</span></code>
<code class="code-line even line-4"><span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-5"><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line even line-6"></code>
<code class="code-line odd line-7"></code>
<code class="code-line even line-8"><span class="token keyword">const</span> startNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-9"><span class="token keyword">const</span> stopNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line even line-10"><span class="token keyword">const</span> resetNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;reset&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-11"></code>
<code class="code-line even line-12"><span class="token keyword">const</span> specs <span class="token operator">=</span> <span class="token number">50</span></code>
<code class="code-line odd line-13"><span class="token keyword">const</span> size <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width <span class="token operator">/</span> specs</code>
<code class="code-line even line-14"></code>
<code class="code-line odd line-15"><span class="token keyword">let</span> snake <span class="token operator">=</span> <span class="token keyword">null</span></code>
<code class="code-line even line-16"><span class="token keyword">let</span> food <span class="token operator">=</span> <span class="token keyword">null</span></code>
<code class="code-line odd line-17"><span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span></code>
<code class="code-line even line-18"></code>
<code class="code-line odd line-19"><span class="token keyword">class</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-20">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-21">    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">??</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> specs<span class="token punctuation">)</span></code>
<code class="code-line even line-22">    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">??</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> specs<span class="token punctuation">)</span></code>
<code class="code-line odd line-23">  <span class="token punctuation">}</span></code>
<code class="code-line even line-24">  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-25">    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-26">    ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> size<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">*</span> size<span class="token punctuation">)</span></code>
<code class="code-line odd line-27">    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> color</code>
<code class="code-line even line-28">    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span></code>
<code class="code-line odd line-29">    ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-30">  <span class="token punctuation">}</span></code>
<code class="code-line odd line-31"><span class="token punctuation">}</span></code>
<code class="code-line even line-32"></code>
<code class="code-line odd line-33"><span class="token keyword">class</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-34">  target <span class="token operator">=</span> <span class="token keyword">null</span></code>
<code class="code-line odd line-35">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-36">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-37">      <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Item</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-38">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>snake<span class="token punctuation">.</span><span class="token function">isBody</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-39">        <span class="token keyword">this</span><span class="token punctuation">.</span>target <span class="token operator">=</span> item</code>
<code class="code-line even line-40">        <span class="token keyword">break</span></code>
<code class="code-line odd line-41">      <span class="token punctuation">}</span></code>
<code class="code-line even line-42">    <span class="token punctuation">}</span></code>
<code class="code-line odd line-43">  <span class="token punctuation">}</span></code>
<code class="code-line even line-44">  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-45">    <span class="token keyword">this</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line even line-46">  <span class="token punctuation">}</span></code>
<code class="code-line odd line-47"><span class="token punctuation">}</span></code>
<code class="code-line even line-48"></code>
<code class="code-line odd line-49"><span class="token keyword">class</span> <span class="token class-name">Snake</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-50">  body <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Item</span><span class="token punctuation">(</span>specs <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> specs <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span></code>
<code class="code-line odd line-51">  addSpeed <span class="token operator">=</span> <span class="token number">0.001</span></code>
<code class="code-line even line-52">  speed <span class="token operator">=</span> <span class="token number">0.2</span></code>
<code class="code-line odd line-53">  dx <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed</code>
<code class="code-line even line-54">  dy <span class="token operator">=</span> <span class="token number">0</span></code>
<code class="code-line odd line-55">  <span class="token comment">/**</span></code>
<code class="code-line even line-56">   <span class="token operator">*</span> </code>
<code class="code-line odd line-57">   <span class="token operator">*</span> @param <span class="token punctuation">{</span><span class="token string">&quot;right&quot;</span><span class="token operator">|</span><span class="token string">&quot;left&quot;</span><span class="token operator">|</span><span class="token string">&quot;down&quot;</span><span class="token operator">|</span><span class="token string">&quot;up&quot;</span><span class="token punctuation">}</span> direction </code>
<code class="code-line even line-58">   <span class="token operator">*</span><span class="token operator">/</span></code>
<code class="code-line odd line-59">  <span class="token function">setDirection</span><span class="token punctuation">(</span><span class="token parameter">direction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-60">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>direction<span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-61">      <span class="token keyword">case</span> <span class="token string">&quot;up&quot;</span><span class="token operator">:</span></code>
<code class="code-line even line-62">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dy <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span></code>
<code class="code-line odd line-63">        <span class="token keyword">this</span><span class="token punctuation">.</span>dy <span class="token operator">=</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed</code>
<code class="code-line even line-64">        <span class="token keyword">this</span><span class="token punctuation">.</span>dx <span class="token operator">=</span> <span class="token number">0</span></code>
<code class="code-line odd line-65">        <span class="token keyword">break</span></code>
<code class="code-line even line-66">      <span class="token keyword">case</span> <span class="token string">&quot;down&quot;</span><span class="token operator">:</span></code>
<code class="code-line odd line-67">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dy <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span></code>
<code class="code-line even line-68">        <span class="token keyword">this</span><span class="token punctuation">.</span>dy <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed</code>
<code class="code-line odd line-69">        <span class="token keyword">this</span><span class="token punctuation">.</span>dx <span class="token operator">=</span> <span class="token number">0</span></code>
<code class="code-line even line-70">        <span class="token keyword">break</span></code>
<code class="code-line odd line-71">      <span class="token keyword">case</span> <span class="token string">&quot;left&quot;</span><span class="token operator">:</span></code>
<code class="code-line even line-72">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dx <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span></code>
<code class="code-line odd line-73">        <span class="token keyword">this</span><span class="token punctuation">.</span>dx <span class="token operator">=</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed</code>
<code class="code-line even line-74">        <span class="token keyword">this</span><span class="token punctuation">.</span>dy <span class="token operator">=</span> <span class="token number">0</span></code>
<code class="code-line odd line-75">        <span class="token keyword">break</span></code>
<code class="code-line even line-76">      <span class="token keyword">case</span> <span class="token string">&quot;right&quot;</span><span class="token operator">:</span></code>
<code class="code-line odd line-77">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dx <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span></code>
<code class="code-line even line-78">        <span class="token keyword">this</span><span class="token punctuation">.</span>dx <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed</code>
<code class="code-line odd line-79">        <span class="token keyword">this</span><span class="token punctuation">.</span>dy <span class="token operator">=</span> <span class="token number">0</span></code>
<code class="code-line even line-80">        <span class="token keyword">break</span></code>
<code class="code-line odd line-81">    <span class="token punctuation">}</span></code>
<code class="code-line even line-82">  <span class="token punctuation">}</span></code>
<code class="code-line odd line-83">  <span class="token comment">/**</span></code>
<code class="code-line even line-84">   <span class="token operator">*</span> </code>
<code class="code-line odd line-85">   <span class="token operator">*</span> @param <span class="token punctuation">{</span>Item<span class="token punctuation">}</span> item </code>
<code class="code-line even line-86">   <span class="token operator">*</span><span class="token operator">/</span></code>
<code class="code-line odd line-87">  <span class="token function">isBody</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-88">    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> item<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> item<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span></code>
<code class="code-line odd line-89">  <span class="token punctuation">}</span></code>
<code class="code-line even line-90">  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-91">    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>addSpeed</code>
<code class="code-line even line-92">    <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span></code>
<code class="code-line odd line-93">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-94">  <span class="token punctuation">}</span></code>
<code class="code-line odd line-95">  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-96">    <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token string">&quot;#fff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-97">  <span class="token punctuation">}</span></code>
<code class="code-line even line-98">  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-99">    <span class="token keyword">const</span> head <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></code>
<code class="code-line even line-100">    <span class="token keyword">const</span> lastOne <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-101">    lastOne<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dx <span class="token operator">+</span> specs<span class="token punctuation">)</span> <span class="token operator">%</span> specs</code>
<code class="code-line even line-102">    lastOne<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dy <span class="token operator">+</span> specs<span class="token punctuation">)</span> <span class="token operator">%</span> specs</code>
<code class="code-line odd line-103">    <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>lastOne<span class="token punctuation">)</span></code>
<code class="code-line even line-104">  <span class="token punctuation">}</span></code>
<code class="code-line odd line-105"><span class="token punctuation">}</span></code>
<code class="code-line even line-106"></code>
<code class="code-line odd line-107"><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-108">  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span></code>
<code class="code-line odd line-109">  snake<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-110">  food<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-111"><span class="token punctuation">}</span></code>
<code class="code-line even line-112"></code>
<code class="code-line odd line-113"><span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-114">  snake<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-115">  <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span><span class="token function">isBody</span><span class="token punctuation">(</span>food<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-116">    snake<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>food<span class="token punctuation">.</span>target<span class="token punctuation">)</span></code>
<code class="code-line odd line-117">    food <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Food</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-118">  <span class="token punctuation">}</span></code>
<code class="code-line odd line-119">  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-120">  timer <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>run<span class="token punctuation">)</span></code>
<code class="code-line odd line-121"><span class="token punctuation">}</span></code>
<code class="code-line even line-122"></code>
<code class="code-line odd line-123"><span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-124">  snake <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Snake</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-125">  food <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Food</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-126">  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-127"><span class="token punctuation">}</span></code>
<code class="code-line even line-128"><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-129"></code>
<code class="code-line even line-130">startNode<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-131">  <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token keyword">return</span></code>
<code class="code-line even line-132">  timer <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>run<span class="token punctuation">)</span></code>
<code class="code-line odd line-133"><span class="token punctuation">}</span><span class="token punctuation">)</span></code>
<code class="code-line even line-134"></code>
<code class="code-line odd line-135">stopNode<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-136">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span> <span class="token keyword">return</span></code>
<code class="code-line odd line-137">  <span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span></code>
<code class="code-line even line-138">  timer <span class="token operator">=</span> <span class="token keyword">null</span></code>
<code class="code-line odd line-139"><span class="token punctuation">}</span><span class="token punctuation">)</span></code>
<code class="code-line even line-140"></code>
<code class="code-line odd line-141">resetNode<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code>
<code class="code-line even line-142">  <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-143">    <span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span></code>
<code class="code-line even line-144">  <span class="token punctuation">}</span></code>
<code class="code-line odd line-145">  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
<code class="code-line even line-146"><span class="token punctuation">}</span><span class="token punctuation">)</span></code>
<code class="code-line odd line-147"></code>
<code class="code-line even line-148">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keydown&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-149"></code>
<code class="code-line even line-150">  <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span> <span class="token punctuation">{</span></code>
<code class="code-line odd line-151">    <span class="token comment">//\u5DE6</span></code>
<code class="code-line even line-152">    <span class="token keyword">case</span> <span class="token number">37</span><span class="token operator">:</span></code>
<code class="code-line odd line-153">      snake<span class="token punctuation">.</span><span class="token function">setDirection</span><span class="token punctuation">(</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line even line-154">      <span class="token keyword">break</span></code>
<code class="code-line odd line-155">    <span class="token comment">//\u4E0A</span></code>
<code class="code-line even line-156">    <span class="token keyword">case</span> <span class="token number">38</span><span class="token operator">:</span></code>
<code class="code-line odd line-157">      snake<span class="token punctuation">.</span><span class="token function">setDirection</span><span class="token punctuation">(</span><span class="token string">&quot;up&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line even line-158">      <span class="token keyword">break</span></code>
<code class="code-line odd line-159">    <span class="token comment">//\u53F3</span></code>
<code class="code-line even line-160">    <span class="token keyword">case</span> <span class="token number">39</span><span class="token operator">:</span></code>
<code class="code-line odd line-161">      snake<span class="token punctuation">.</span><span class="token function">setDirection</span><span class="token punctuation">(</span><span class="token string">&quot;right&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line even line-162">      <span class="token keyword">break</span></code>
<code class="code-line odd line-163">    <span class="token comment">//\u4E0B</span></code>
<code class="code-line even line-164">    <span class="token keyword">case</span> <span class="token number">40</span><span class="token operator">:</span></code>
<code class="code-line odd line-165">      snake<span class="token punctuation">.</span><span class="token function">setDirection</span><span class="token punctuation">(</span><span class="token string">&quot;down&quot;</span><span class="token punctuation">)</span></code>
<code class="code-line even line-166">      <span class="token keyword">break</span></code>
<code class="code-line odd line-167">    <span class="token keyword">default</span><span class="token operator">:</span></code>
<code class="code-line even line-168">      <span class="token keyword">break</span></code>
<code class="code-line odd line-169">  <span class="token punctuation">}</span></code>
<code class="code-line even last-row line-170"><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div></div>`,7),p=[c],k={title:null,tags:["canvas"],categories:null,description:"\u4F7F\u7528 canvas \u5B9E\u73B0\u7ECF\u5178\u7684\u8D2A\u5403\u86C7\u6E38\u620F",publishTime:"2022-10-03T12:42:23.000Z",updateTime:null,img:null,toc:!1,comment:!0,publish:!0},r="",v=s({__name:"index",setup(l,{expose:n}){return n({frontmatter:{title:null,tags:["canvas"],categories:null,description:"\u4F7F\u7528 canvas \u5B9E\u73B0\u7ECF\u5178\u7684\u8D2A\u5403\u86C7\u6E38\u620F",publishTime:"2022-10-03T12:42:23.000Z",updateTime:null,img:null,toc:!1,comment:!0,publish:!0},excerpt:void 0}),(i,u)=>(a(),e("div",t,p))}});export{v as default,r as excerpt,k as frontmatter};
